import{r as h,X as T,b as Ie,p as Ve,c as u,o as r,a as t,M as d,P as a,H as i,ag as y,J as b,O as x,a6 as P,az as Ce,u as A,L as p,D as Be,G as se}from"./vendor-DAHo6VuW.js";import{h as ze,d as Te,y as xe,l as Pe,b as ae,r as le,e as Ue,v as Le,n as c,o as oe}from"./elementPlus-Da0LKy-i.js";import{a as v}from"./index-xsH4HHeE.js";import{_ as Re}from"./index-C_Y6TLtC.js";const De={class:"user-dashboard"},Me={class:"header"},Oe={class:"container"},Ne={class:"header-content"},je={class:"user-info"},Fe={class:"welcome"},Ee={class:"main"},We={class:"container"},qe={class:"dashboard-content"},Je={class:"sidebar"},He={class:"content"},Ge={key:0,class:"content-section"},Xe={class:"section-header"},Ke={key:0,class:"loading"},Qe={key:1,class:"empty"},Ye={key:2,class:"blog-list"},Ze={class:"blog-info"},et=["onClick"],tt={class:"blog-summary"},st={class:"blog-meta"},at={class:"meta-item"},lt={class:"meta-item"},ot={class:"blog-actions"},it={key:1,class:"content-section"},nt={class:"article-images"},rt={class:"image-upload-area"},dt={key:2,class:"content-section"},ut={key:0,class:"loading"},ct={key:1,class:"statistics-content"},mt={class:"stats-card"},gt={class:"stats-grid"},pt={class:"stat-item"},_t={class:"stat-number"},vt={class:"stat-item"},ft={class:"stat-number"},ht={class:"stat-item"},yt={class:"stat-number"},kt={key:0,class:"category-stats"},bt={class:"category-list"},wt={class:"category-name"},St={class:"category-count"},At={class:"stats-card"},$t={class:"stats-grid"},It={class:"stat-item"},Vt={class:"stat-number"},Ct={class:"stat-item"},Bt={class:"stat-number"},zt={class:"stat-item"},Tt={class:"stat-number"},xt={class:"stat-item"},Pt={class:"stat-number"},Ut={key:0,class:"top-articles"},Lt={class:"article-list"},Rt=["onClick"],Dt={class:"article-views"},Mt={key:1,class:"top-articles"},Ot={class:"article-list"},Nt=["onClick"],jt={class:"article-likes"},Ft={class:"stats-card"},Et={class:"stats-grid"},Wt={class:"stat-item"},qt={class:"stat-number"},Jt={key:0,class:"liked-articles"},Ht={class:"article-list"},Gt=["onClick"],Xt={class:"article-author"},Kt={class:"article-date"},Qt={key:0,class:"show-more"},Yt={key:1,class:"article-list"},Zt=["onClick"],es={class:"article-author"},ts={class:"article-date"},ss={key:1,class:"empty-liked"},as={key:3,class:"content-section"},ls={class:"avatar-upload"},os={class:"upload-actions"},is={__name:"UserDashboard",setup(ns){const G=Ce(),w=h("my-blogs"),F=h(!1),L=h(!1),E=h(),X=h(),U=h(null),W=h(!1),$=T({username:"",email:"",role:"user",createdAt:""}),n=T({username:"",email:"",bio:"",avatar:""}),K=Ie(()=>{const s=localStorage.getItem("userToken")||localStorage.getItem("adminToken");return s?{Authorization:`Bearer ${s}`}:{}}),ie={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],bio:[{max:100,message:"简介长度不能超过个字符",trigger:"blur"}]},R=h([]),q=h(!1),D=h(!1),C=T({totalPublished:0,totalDrafts:0,thisMonthCount:0,categoryStats:[]}),k=T({totalViews:0,totalLikes:0,averageViews:0,averageLikes:0,topViewedArticles:[],topLikedArticles:[]}),Q=T({totalLikedArticles:0}),B=h([]),g=T({title:"",summary:"",content:"",category:"",tags:"",images:[]}),J=h([]),ne={title:[{required:!0,message:"请输入文章标题",trigger:"blur"}],summary:[{required:!0,message:"请输入文章摘要",trigger:"blur"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"}]},re=s=>{if(s==="home"){G.push("/");return}w.value=s,s==="my-blogs"?M():s==="statistics"&&Ae()},de=async()=>{try{const s=localStorage.getItem("userToken")||localStorage.getItem("adminToken");console.log("Token found:",!!s);const e=s?{headers:{Authorization:`Bearer ${s}`}}:{},o=await v.get("/api/auth/profile",e);Object.assign($,o.data),console.log("User info from API:",o.data),n.username=o.data.username||"",n.email=o.data.email||"",n.bio=o.data.bio||"";const m=o.data.avatar_url||"";n.avatar=m&&!m.startsWith("http")?`http://localhost:8080${m}`:m}catch(s){console.warn("获取用户信息失败:",s);const e=localStorage.getItem("username"),o=localStorage.getItem("userRole");if(console.log("Username from localStorage:",e),console.log("UserRole from localStorage:",o),e){const m={username:e,email:"",bio:"",role:o||"user",createdAt:""};Object.assign($,m),console.log("User info set from localStorage:",m),n.username=e,n.email="",n.bio="",n.avatar=""}else console.error("No username found in localStorage"),n.email="",n.bio=""}},M=async()=>{F.value=!0;try{const s=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),e=s?{headers:{Authorization:`Bearer ${s}`}}:{},o=await v.get("/api/blogs/my",e);R.value=o.data.content||o.data||[]}catch(s){console.warn("获取文章列表失败:",s),R.value=[]}finally{F.value=!1}},ue=s=>{U.value=s;let e=[];if(s.images)try{e=JSON.parse(s.images)}catch(o){console.warn("解析图片数据失败:",o),e=[]}Object.assign(g,{title:s.title,summary:s.summary,content:s.content,category:s.category,tags:s.tags,images:e}),J.value=e.map((o,m)=>({name:`image_${m+1}`,url:o,uid:Date.now()+m})),w.value="create-blog"},Y=async(s=!1)=>{if(E.value)try{await E.value.validate(),L.value=!0;const e=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),o=e?{headers:{Authorization:`Bearer ${e}`}}:{},m={...g,images:JSON.stringify(g.images),isPublished:s};U.value?(await v.put(`/api/blogs/${U.value.id}`,m,o),c.success("文章更新成功")):(await v.post("/api/blogs",m,o),c.success(s?"文章发布成功":"草稿保存成功")),Z(),w.value="my-blogs",M()}catch{c.error("保存失败，请稍后重试")}finally{L.value=!1}},ce=async s=>{try{const e=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),o=e?{headers:{Authorization:`Bearer ${e}`}}:{},m=s.isPublished?"unpublish":"publish";await v.put(`/api/blogs/${s.id}/${m}`,{},o),s.isPublished=!s.isPublished,c.success(s.isPublished?"文章已发布":"文章已取消发布")}catch{c.error("操作失败，请稍后重试")}},me=async s=>{try{await oe.confirm("确定要删除这篇文章吗？","确认删除",{type:"warning"});const e=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),o=e?{headers:{Authorization:`Bearer ${e}`}}:{};await v.delete(`/api/blogs/${s.id}`,o),c.success("文章删除成功"),M()}catch(e){e!=="cancel"&&c.error("删除失败，请稍后重试")}},ge=()=>{Z(),w.value="my-blogs"},Z=()=>{Object.assign(g,{title:"",summary:"",content:"",category:"",tags:"",images:[]}),J.value=[],U.value=null},pe=async()=>{try{await X.value.validate(),W.value=!0;const s=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),e=s?{headers:{Authorization:`Bearer ${s}`}}:{},o=await v.put("/api/auth/profile",{username:n.username,email:n.email,bio:n.bio,avatar:n.avatar},e);$.username=n.username,$.email=n.email,$.bio=n.bio,$.avatar=n.avatar,localStorage.setItem("username",n.username),c.success("个人资料更新成功")}catch(s){if(s.response)c.error(s.response.data.message||"更新失败");else{if(s.errors)return;c.error("网络错误，请稍后重试")}}finally{W.value=!1}},z=s=>{console.log("用户后台点击文章，ID:",s),G.push(`/blog/${s}`)},O=s=>s?new Date(s).toLocaleDateString("zh-CN"):"",_e=s=>{const e=s.type.startsWith("image/"),o=s.size/1024/1024<2;return e?o?!0:(c.error("上传头像图片大小不能超过 2MB!"),!1):(c.error("只能上传图片文件!"),!1)},ve=s=>{if(s.success&&s.url){const e=s.url.startsWith("http")?s.url:`http://localhost:8080${s.url}`;n.avatar=e,c.success("头像上传成功")}else c.error(s.message||"头像上传失败")},fe=s=>{console.error("头像上传失败:",s),c.error("头像上传失败，请稍后重试")},he=async()=>{try{if(await oe.confirm("确定要删除头像吗？","确认删除",{type:"warning"}),n.avatar){const s=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),e=s?{headers:{Authorization:`Bearer ${s}`}}:{};try{await v.delete("/api/upload/delete",{...e,data:{url:n.avatar}})}catch(o){console.warn("删除服务器文件失败:",o)}}n.avatar="",c.success("头像删除成功")}catch(s){s!=="cancel"&&c.error("删除头像失败")}},ye=s=>{const e=s.type.startsWith("image/"),o=s.size/1024/1024<2;return e?o?!0:(c.error("上传图片大小不能超过 2MB!"),!1):(c.error("只能上传图片文件!"),!1)},ke=(s,e)=>{if(s.success&&s.url){const o=s.url.startsWith("http")?s.url:`http://localhost:8080${s.url}`;g.images.push(o),e.url=o,c.success("图片上传成功")}else c.error(s.message||"图片上传失败")},be=s=>{console.error("图片上传失败:",s),c.error("图片上传失败，请稍后重试")},we=s=>{if(s.url){const e=g.images.indexOf(s.url);e>-1&&g.images.splice(e,1);const o=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),m=o?{headers:{Authorization:`Bearer ${o}`}}:{};v.delete("/api/upload/delete",{...m,data:{url:s.url}}).catch(S=>{console.warn("删除服务器文件失败:",S)})}},Se=()=>{c.warning("最多只能上传9张图片")},Ae=async()=>{var s;q.value=!0;try{const e=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),o=e?{headers:{Authorization:`Bearer ${e}`}}:{},S=(await v.get("/api/auth/profile",o)).data;if(!S.id||S.id===0){console.warn("用户ID无效，跳过统计数据获取"),c.warning("请先登录以查看统计数据");return}const[_,N,j,H]=await Promise.all([v.get(`/api/user-statistics/publish/${S.username}`,o),v.get(`/api/user-statistics/popularity/${S.username}`,o),v.get(`/api/user-statistics/likes/${S.id}`,o),v.get(`/api/user-statistics/liked-articles/${S.id}`,o)]);Object.assign(C,_.data),Object.assign(k,N.data),Object.assign(Q,j.data),B.value=((s=H.data)==null?void 0:s.content)||[]}catch(e){console.warn("获取统计数据失败:",e),c.error("获取统计数据失败，请稍后重试")}finally{q.value=!1}};return Ve(()=>{de(),M()}),(s,e)=>{const o=y("el-icon"),m=y("el-menu-item"),S=y("el-menu"),_=y("el-button"),N=y("el-skeleton"),j=y("el-empty"),H=y("el-tag"),I=y("el-input"),f=y("el-form-item"),ee=y("el-upload"),te=y("el-form"),$e=y("el-avatar");return r(),u("div",De,[t("header",Me,[t("div",Oe,[t("div",Ne,[e[12]||(e[12]=t("h1",{class:"logo"},"个人博客 - 用户后台",-1)),t("div",je,[t("span",Fe,"欢迎，"+d($.username),1)])])])]),t("main",Ee,[t("div",We,[t("div",qe,[t("aside",Je,[a(S,{"default-active":w.value,class:"sidebar-menu",onSelect:re},{default:i(()=>[a(m,{index:"home"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(ze))]),_:1}),e[13]||(e[13]=t("span",null,"首页",-1))]),_:1,__:[13]}),a(m,{index:"my-blogs"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(Te))]),_:1}),e[14]||(e[14]=t("span",null,"我的发布",-1))]),_:1,__:[14]}),a(m,{index:"statistics"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(xe))]),_:1}),e[15]||(e[15]=t("span",null,"个人统计",-1))]),_:1,__:[15]}),a(m,{index:"create-blog"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(Pe))]),_:1}),e[16]||(e[16]=t("span",null,"写文章",-1))]),_:1,__:[16]}),a(m,{index:"profile"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(ae))]),_:1}),e[17]||(e[17]=t("span",null,"个人资料",-1))]),_:1,__:[17]})]),_:1},8,["default-active"])]),t("div",He,[w.value==="my-blogs"?(r(),u("div",Ge,[t("div",Xe,[e[19]||(e[19]=t("h2",null,"我的发布",-1)),a(_,{type:"primary",onClick:e[0]||(e[0]=l=>w.value="create-blog")},{default:i(()=>[a(o,null,{default:i(()=>[a(A(le))]),_:1}),e[18]||(e[18]=p(" 写新文章 "))]),_:1,__:[18]})]),F.value?(r(),u("div",Ke,[a(N,{rows:3,animated:""})])):R.value.length===0?(r(),u("div",Qe,[a(j,{description:"还没有发布，快去写一篇吧！"})])):(r(),u("div",Ye,[(r(!0),u(x,null,P(R.value,l=>(r(),u("div",{key:l.id,class:"blog-item"},[t("div",Ze,[t("h3",{class:Be(["blog-title",{clickable:l.isPublished}]),onClick:V=>l.isPublished?z(l.id):null},d(l.title),11,et),t("p",tt,d(l.summary),1),t("div",st,[t("span",at,[a(o,null,{default:i(()=>[a(A(Ue))]),_:1}),p(" "+d(O(l.isPublished&&l.publishedAt||l.createdAt)),1)]),t("span",lt,[a(o,null,{default:i(()=>[a(A(Le))]),_:1}),p(" "+d(l.viewCount||0),1)]),a(H,{type:l.isPublished?"success":"warning",size:"small"},{default:i(()=>[p(d(l.isPublished?"已发布":"草稿"),1)]),_:2},1032,["type"])])]),t("div",ot,[l.isPublished?(r(),se(_,{key:0,size:"small",type:"primary",onClick:V=>z(l.id)},{default:i(()=>e[20]||(e[20]=[p(" 查看 ")])),_:2,__:[20]},1032,["onClick"])):b("",!0),a(_,{size:"small",onClick:V=>ue(l)},{default:i(()=>e[21]||(e[21]=[p("编辑")])),_:2,__:[21]},1032,["onClick"]),a(_,{size:"small",type:l.isPublished?"warning":"success",onClick:V=>ce(l)},{default:i(()=>[p(d(l.isPublished?"取消发布":"发布"),1)]),_:2},1032,["type","onClick"]),a(_,{size:"small",type:"danger",onClick:V=>me(l)},{default:i(()=>e[22]||(e[22]=[p("删除")])),_:2,__:[22]},1032,["onClick"])])]))),128))]))])):b("",!0),w.value==="create-blog"?(r(),u("div",it,[t("h2",null,d(U.value?"编辑文章":"写新文章"),1),a(te,{ref_key:"blogFormRef",ref:E,model:g,rules:ne,"label-width":"80px",class:"blog-form"},{default:i(()=>[a(f,{label:"标题",prop:"title"},{default:i(()=>[a(I,{modelValue:g.title,"onUpdate:modelValue":e[1]||(e[1]=l=>g.title=l),placeholder:"请输入文章标题"},null,8,["modelValue"])]),_:1}),a(f,{label:"摘要",prop:"summary"},{default:i(()=>[a(I,{modelValue:g.summary,"onUpdate:modelValue":e[2]||(e[2]=l=>g.summary=l),type:"textarea",rows:3,placeholder:"请输入文章摘要"},null,8,["modelValue"])]),_:1}),a(f,{label:"分类",prop:"category"},{default:i(()=>[a(I,{modelValue:g.category,"onUpdate:modelValue":e[3]||(e[3]=l=>g.category=l),placeholder:"请输入文章分类"},null,8,["modelValue"])]),_:1}),a(f,{label:"标签",prop:"tags"},{default:i(()=>[a(I,{modelValue:g.tags,"onUpdate:modelValue":e[4]||(e[4]=l=>g.tags=l),placeholder:"请输入标签，用逗号分隔"},null,8,["modelValue"])]),_:1}),a(f,{label:"文章图片"},{default:i(()=>[t("div",nt,[t("div",rt,[a(ee,{action:"/api/upload/article-image",headers:K.value,"file-list":J.value,"on-success":ke,"on-error":be,"on-remove":we,"before-upload":ye,limit:9,"on-exceed":Se,name:"file",accept:"image/*","list-type":"picture-card",multiple:""},{default:i(()=>[a(o,{class:"avatar-uploader-icon"},{default:i(()=>[a(A(le))]),_:1})]),_:1},8,["headers","file-list"]),e[23]||(e[23]=t("div",{class:"upload-tip"},[t("p",null,"支持上传jpg、png、gif格式图片，单张图片不超过2MB，最多9张")],-1))])])]),_:1}),a(f,{label:"内容",prop:"content"},{default:i(()=>[a(I,{modelValue:g.content,"onUpdate:modelValue":e[5]||(e[5]=l=>g.content=l),type:"textarea",rows:15,placeholder:"请输入文章内容（支持 Markdown）"},null,8,["modelValue"])]),_:1}),a(f,null,{default:i(()=>[a(_,{type:"primary",onClick:e[6]||(e[6]=l=>Y(!1)),loading:L.value},{default:i(()=>e[24]||(e[24]=[p(" 保存草稿 ")])),_:1,__:[24]},8,["loading"]),a(_,{type:"success",onClick:e[7]||(e[7]=l=>Y(!0)),loading:L.value},{default:i(()=>e[25]||(e[25]=[p(" 发布文章 ")])),_:1,__:[25]},8,["loading"]),a(_,{onClick:ge},{default:i(()=>e[26]||(e[26]=[p("取消")])),_:1,__:[26]})]),_:1})]),_:1},8,["model"])])):b("",!0),w.value==="statistics"?(r(),u("div",dt,[e[42]||(e[42]=t("div",{class:"section-header"},[t("h2",null,"个人统计")],-1)),q.value?(r(),u("div",ut,[a(N,{rows:5,animated:""})])):(r(),u("div",ct,[t("div",mt,[e[31]||(e[31]=t("h3",null,"发布统计",-1)),t("div",gt,[t("div",pt,[t("div",_t,d(C.totalPublished),1),e[27]||(e[27]=t("div",{class:"stat-label"},"已发布文章",-1))]),t("div",vt,[t("div",ft,d(C.totalDrafts),1),e[28]||(e[28]=t("div",{class:"stat-label"},"草稿文章",-1))]),t("div",ht,[t("div",yt,d(C.thisMonthCount),1),e[29]||(e[29]=t("div",{class:"stat-label"},"本月发布",-1))])]),C.categoryStats&&C.categoryStats.length>0?(r(),u("div",kt,[e[30]||(e[30]=t("h4",null,"分类统计",-1)),t("div",bt,[(r(!0),u(x,null,P(C.categoryStats,l=>(r(),u("div",{key:l.category,class:"category-item"},[t("span",wt,d(l.category||"未分类"),1),t("span",St,d(l.count)+"篇",1)]))),128))])])):b("",!0)]),t("div",At,[e[38]||(e[38]=t("h3",null,"热度统计",-1)),t("div",$t,[t("div",It,[t("div",Vt,d(k.totalViews),1),e[32]||(e[32]=t("div",{class:"stat-label"},"总浏览量",-1))]),t("div",Ct,[t("div",Bt,d(k.totalLikes),1),e[33]||(e[33]=t("div",{class:"stat-label"},"总点赞数",-1))]),t("div",zt,[t("div",Tt,d(k.avgViews),1),e[34]||(e[34]=t("div",{class:"stat-label"},"平均浏览量",-1))]),t("div",xt,[t("div",Pt,d(k.avgLikes),1),e[35]||(e[35]=t("div",{class:"stat-label"},"平均点赞数",-1))])]),k.topViewedArticles&&k.topViewedArticles.length>0?(r(),u("div",Ut,[e[36]||(e[36]=t("h4",null,"最受欢迎文章（按浏览量）",-1)),t("div",Lt,[(r(!0),u(x,null,P(k.topViewedArticles,l=>(r(),u("div",{key:l.id,class:"article-item"},[t("span",{class:"article-title",onClick:V=>z(l.id)},d(l.title),9,Rt),t("span",Dt,d(l.viewCount)+"次浏览",1)]))),128))])])):b("",!0),k.topLikedArticles&&k.topLikedArticles.length>0?(r(),u("div",Mt,[e[37]||(e[37]=t("h4",null,"最受欢迎文章（按点赞数）",-1)),t("div",Ot,[(r(!0),u(x,null,P(k.topLikedArticles,l=>(r(),u("div",{key:l.id,class:"article-item"},[t("span",{class:"article-title",onClick:V=>z(l.id)},d(l.title),9,Nt),t("span",jt,d(l.likeCount)+"个赞",1)]))),128))])])):b("",!0)]),t("div",Ft,[e[41]||(e[41]=t("h3",null,"我的点赞",-1)),t("div",Et,[t("div",Wt,[t("div",qt,d(Q.totalLikedArticles),1),e[39]||(e[39]=t("div",{class:"stat-label"},"点赞文章数",-1))])]),B.value&&B.value.length>0?(r(),u("div",Jt,[e[40]||(e[40]=t("h4",null,"我点赞的文章",-1)),t("div",Ht,[(r(!0),u(x,null,P(B.value.slice(0,10),l=>(r(),u("div",{key:l.id,class:"article-item"},[t("span",{class:"article-title",onClick:V=>z(l.id)},d(l.title),9,Gt),t("span",Xt,"作者："+d(l.authorName),1),t("span",Kt,d(O(l.likedAt)),1)]))),128))]),B.value.length>10?(r(),u("div",Qt,[a(_,{type:"text",onClick:e[8]||(e[8]=l=>D.value=!D.value)},{default:i(()=>[p(d(D.value?"收起":`查看全部${B.value.length}篇`),1)]),_:1})])):b("",!0),D.value?(r(),u("div",Yt,[(r(!0),u(x,null,P(B.value.slice(10),l=>(r(),u("div",{key:l.id,class:"article-item"},[t("span",{class:"article-title",onClick:V=>z(l.id)},d(l.title),9,Zt),t("span",es,"作者："+d(l.authorName),1),t("span",ts,d(O(l.likedAt)),1)]))),128))])):b("",!0)])):(r(),u("div",ss,[a(j,{description:"还没有点赞任何文章"})]))])]))])):b("",!0),w.value==="profile"?(r(),u("div",as,[e[46]||(e[46]=t("h2",null,"个人资料",-1)),a(te,{ref_key:"profileFormRef",ref:X,model:n,rules:ie,"label-width":"80px",class:"profile-form"},{default:i(()=>[a(f,{label:"头像"},{default:i(()=>[t("div",ls,[a($e,{size:80,src:n.avatar||"/default-avatar.png",class:"avatar-preview"},{default:i(()=>[a(o,null,{default:i(()=>[a(A(ae))]),_:1})]),_:1},8,["src"]),t("div",os,[a(ee,{action:"/api/upload/avatar",headers:K.value,"show-file-list":!1,"on-success":ve,"on-error":fe,"before-upload":_e,name:"file",accept:"image/*"},{default:i(()=>[a(_,{size:"small",type:"primary"},{default:i(()=>e[43]||(e[43]=[p("上传头像")])),_:1,__:[43]})]),_:1},8,["headers"]),n.avatar?(r(),se(_,{key:0,size:"small",type:"danger",onClick:he},{default:i(()=>e[44]||(e[44]=[p(" 删除头像 ")])),_:1,__:[44]})):b("",!0)])])]),_:1}),a(f,{label:"用户名",prop:"username"},{default:i(()=>[a(I,{modelValue:n.username,"onUpdate:modelValue":e[9]||(e[9]=l=>n.username=l),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),a(f,{label:"邮箱",prop:"email"},{default:i(()=>[a(I,{modelValue:n.email,"onUpdate:modelValue":e[10]||(e[10]=l=>n.email=l),placeholder:"请输入邮箱地址（可选）",clearable:""},null,8,["modelValue"])]),_:1}),a(f,{label:"简介",prop:"bio"},{default:i(()=>[a(I,{modelValue:n.bio,"onUpdate:modelValue":e[11]||(e[11]=l=>n.bio=l),type:"textarea",rows:4,placeholder:"请输入个人简介（可选，最多500字）",maxlength:"500","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1}),a(f,{label:"注册时间"},{default:i(()=>[t("span",null,d(O($.createdAt)),1)]),_:1}),a(f,null,{default:i(()=>[a(_,{type:"primary",onClick:pe,loading:W.value},{default:i(()=>e[45]||(e[45]=[p(" 保存资料 ")])),_:1,__:[45]},8,["loading"])]),_:1})]),_:1},8,["model"])])):b("",!0)])])])])])}}},ms=Re(is,[["__scopeId","data-v-feadefd3"]]);export{ms as default};
